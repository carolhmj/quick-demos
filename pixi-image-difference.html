<html>
    <head>
        <title>Pixi.JS image difference demo</title>
    </head>
    <body>
        <script src="https://pixijs.download/release/pixi.js"></script>
        <script>
            let app = new PIXI.Application({width: 640, height: 360, transparent: true});
            document.body.appendChild(app.view);

            app.stop();
            app.loader.add('shader', 'assets/shaders/frag/difference.frag')
            .add('tex1', 'assets/textures/sprites/black_w_alpha.png')
            .add('tex2', 'assets/textures/sprites/rot_black_w_alpha.png').load(onLoaded);

            let filter;

            function onLoaded(loader, res) {
                const tex1 = res.tex1.texture;
                const tex2 = res.tex2.texture;

                filter = new PIXI.Filter(null, res.shader.data, {
                    tex1,
                    tex2
                });

                app.stage.filterArea = app.renderer.screen;
                app.stage.filters = [filter];

                app.start();
            }
        </script>
    </body>
</html>